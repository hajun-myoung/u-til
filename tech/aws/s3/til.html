<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css"><link rel="apple-touch-icon" sizes="180x180" href="./images/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="./images/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="./images/favicon/favicon-16x16.png"><link rel="manifest" href="./images/favicon/site.webmanifest"><title>Problem Shooting | UNTIL</title><meta name="description" content="UNTIL's Not Today I Learned!"><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="generator" content="VuePress 2.0.0-beta.22">
    <link rel="preload" href="/until/assets/js/runtime~app.c30f3988.js" as="script"><link rel="preload" href="/until/assets/css/styles.86264390.css" as="style"><link rel="preload" href="/until/assets/js/296.148a5c49.js" as="script"><link rel="preload" href="/until/assets/js/app.61a0afe0.js" as="script">
    <link rel="stylesheet" href="/until/assets/css/styles.86264390.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><header class="navbar"><div class="toggle-sidebar-button"><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><span><a href="/until/" class=""><img class="logo" src="/until/images/logo.png" alt="UNTIL"><span class="site-name can-hide">UNTIL</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="테크"><span class="title">테크</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="테크"><span class="title">테크</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>AWS</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/tech/aws/ec2/" class="nav-link" aria-label="EC2"><!--[--><!--]--> EC2 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/aws/s3/" class="nav-link router-link-active" aria-label="S3 Storage"><!--[--><!--]--> S3 Storage <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/aws/iam/" class="nav-link" aria-label="IAM"><!--[--><!--]--> IAM <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>프로그래밍 언어</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/tech/pg/lang/c/" class="nav-link" aria-label="C"><!--[--><!--]--> C <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/pg/lang/js/" class="nav-link" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/pg/lang/python/" class="nav-link" aria-label="Python"><!--[--><!--]--> Python <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/pg/lang/html_css/" class="nav-link" aria-label="HTML&amp;CSS"><!--[--><!--]--> HTML&amp;CSS <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>프로그래밍 이론</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/tech/pg/theory/" class="nav-link" aria-label="준비중입니다."><!--[--><!--]--> 준비중입니다. <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>메이킹</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/tech/making/arduino/" class="nav-link" aria-label="아두이노"><!--[--><!--]--> 아두이노 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/making/processing/" class="nav-link" aria-label="프로세싱"><!--[--><!--]--> 프로세싱 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>블로그</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/tech/blog/google/" class="nav-link" aria-label="Google"><!--[--><!--]--> Google <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/blog/vuepress/" class="nav-link" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="논테크"><span class="title">논테크</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="논테크"><span class="title">논테크</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>샤이학문</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/non-tech-learning/csat/math/" class="nav-link" aria-label="수능수학"><!--[--><!--]--> 수능수학 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="프로젝트"><span class="title">프로젝트</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="프로젝트"><span class="title">프로젝트</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>메이킹 pj.</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/pj/making/battery-to-wired/" class="nav-link" aria-label="배터리를 유선으로"><!--[--><!--]--> 배터리를 유선으로 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/pj/making/gimbal/" class="nav-link" aria-label="짐벌만들기"><!--[--><!--]--> 짐벌만들기 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/pj/making/debit-card-sys/" class="nav-link" aria-label="체크카드 시스템"><!--[--><!--]--> 체크카드 시스템 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>클론코딩</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/pj/clone-coding/" class="nav-link" aria-label="준비중입니다."><!--[--><!--]--> 준비중입니다. <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="삶"><span class="title">삶</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="삶"><span class="title">삶</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>독서와 서평</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/life/reading/" class="nav-link" aria-label="독서와 서평"><!--[--><!--]--> 독서와 서평 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>취미</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/life/hobby/sound-engineering/basic/" class="nav-link" aria-label="음향 엔지니어링(기초)"><!--[--><!--]--> 음향 엔지니어링(기초) <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/life/hobby/video-editing/" class="nav-link" aria-label="영상 편집"><!--[--><!--]--> 영상 편집 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/hajun-myoung/until" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="여기서 검색" autocomplete="off" spellcheck="false" value><!----></form></div></header><div class="sidebar-mask"></div><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="테크"><span class="title">테크</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="테크"><span class="title">테크</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>AWS</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/tech/aws/ec2/" class="nav-link" aria-label="EC2"><!--[--><!--]--> EC2 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/aws/s3/" class="nav-link router-link-active" aria-label="S3 Storage"><!--[--><!--]--> S3 Storage <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/aws/iam/" class="nav-link" aria-label="IAM"><!--[--><!--]--> IAM <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>프로그래밍 언어</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/tech/pg/lang/c/" class="nav-link" aria-label="C"><!--[--><!--]--> C <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/pg/lang/js/" class="nav-link" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/pg/lang/python/" class="nav-link" aria-label="Python"><!--[--><!--]--> Python <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/pg/lang/html_css/" class="nav-link" aria-label="HTML&amp;CSS"><!--[--><!--]--> HTML&amp;CSS <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>프로그래밍 이론</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/tech/pg/theory/" class="nav-link" aria-label="준비중입니다."><!--[--><!--]--> 준비중입니다. <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>메이킹</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/tech/making/arduino/" class="nav-link" aria-label="아두이노"><!--[--><!--]--> 아두이노 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/making/processing/" class="nav-link" aria-label="프로세싱"><!--[--><!--]--> 프로세싱 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>블로그</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/tech/blog/google/" class="nav-link" aria-label="Google"><!--[--><!--]--> Google <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/tech/blog/vuepress/" class="nav-link" aria-label="Vuepress"><!--[--><!--]--> Vuepress <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="논테크"><span class="title">논테크</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="논테크"><span class="title">논테크</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>샤이학문</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/non-tech-learning/csat/math/" class="nav-link" aria-label="수능수학"><!--[--><!--]--> 수능수학 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="프로젝트"><span class="title">프로젝트</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="프로젝트"><span class="title">프로젝트</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>메이킹 pj.</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/pj/making/battery-to-wired/" class="nav-link" aria-label="배터리를 유선으로"><!--[--><!--]--> 배터리를 유선으로 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/pj/making/gimbal/" class="nav-link" aria-label="짐벌만들기"><!--[--><!--]--> 짐벌만들기 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/pj/making/debit-card-sys/" class="nav-link" aria-label="체크카드 시스템"><!--[--><!--]--> 체크카드 시스템 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>클론코딩</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/pj/clone-coding/" class="nav-link" aria-label="준비중입니다."><!--[--><!--]--> 준비중입니다. <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="삶"><span class="title">삶</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="삶"><span class="title">삶</span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>독서와 서평</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/life/reading/" class="nav-link" aria-label="독서와 서평"><!--[--><!--]--> 독서와 서평 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>취미</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/until/life/hobby/sound-engineering/basic/" class="nav-link" aria-label="음향 엔지니어링(기초)"><!--[--><!--]--> 음향 엔지니어링(기초) <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/until/life/hobby/video-editing/" class="nav-link" aria-label="영상 편집"><!--[--><!--]--> 영상 편집 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/hajun-myoung/until" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" ariahidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item active">AWS S3</p><ul class=""><li><!--[--><a href="/until/tech/aws/s3/" class="nav-link router-link-active sidebar-item" aria-label="S3, Simple Storage Service"><!--[--><!--]--> S3, Simple Storage Service <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/until/tech/aws/s3/til.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="Problem Shooting"><!--[--><!--]--> Problem Shooting <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/until/tech/aws/s3/til.html#sep-14" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Sep 14"><!--[--><!--]--> Sep 14 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/until/tech/aws/s3/til.html#permissions-policy를-수정해서-권한-관리하기-solved" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Permissions Policy를 수정해서 권한 관리하기 SOLVED"><!--[--><!--]--> Permissions Policy를 수정해서 권한 관리하기 SOLVED <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/until/tech/aws/s3/til.html#해결-방법" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="해결 방법"><!--[--><!--]--> 해결 방법 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/until/tech/aws/s3/til.html#결과" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="결과"><!--[--><!--]--> 결과 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="problem-shooting" tabindex="-1"><a class="header-anchor" href="#problem-shooting" aria-hidden="true">#</a> Problem Shooting</h1><h2 id="sep-14" tabindex="-1"><a class="header-anchor" href="#sep-14" aria-hidden="true">#</a> Sep 14</h2><h3 id="permissions-policy를-수정해서-권한-관리하기-solved" tabindex="-1"><a class="header-anchor" href="#permissions-policy를-수정해서-권한-관리하기-solved" aria-hidden="true">#</a> Permissions Policy를 수정해서 권한 관리하기 <code>SOLVED</code></h3><ul><li>Goal <ul><li>모든 사용자의 Get Object 허용</li><li>특정 사용자의 Put Object 허용</li><li>특정 사용자 외의 Put Object 거부</li></ul></li></ul><h3 id="해결-방법" tabindex="-1"><a class="header-anchor" href="#해결-방법" aria-hidden="true">#</a> 해결 방법</h3><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;Version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2012-10-17&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;Statement&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;Effect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Allow&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Principal&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Action&quot;</span><span class="token operator">:</span> <span class="token string">&quot;s3:GetObject&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;arn:aws:s3:::MY_BUCKETS_NAME/&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;Effect&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Deny&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;NotPrincipal&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;AWS&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;arn:aws:iam::NUMERICAL_IAM_NUMBER:root&quot;</span><span class="token punctuation">,</span>
          <span class="token string">&quot;arn:aws:iam::NUMERICAL_IAM_NUMBER:user/USERNAME&quot;</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Action&quot;</span><span class="token operator">:</span> <span class="token string">&quot;s3:PutObject&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;Resource&quot;</span><span class="token operator">:</span> <span class="token string">&quot;arn:aws:s3:::MY_BUCKETS_NAME/*&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ul><li><p>Publicy Accessable로 설정해 기본적으로 모든 요청을 허용</p></li><li><p><code>Action: s3:GetObject</code>에 대해서 모두 허용하는 규칙 명시</p></li><li><p><code>Action: s3:PutObject</code>에 대해서 특정 사용자 외의 거부 규칙 명시</p><ul><li>이 때, <code>NotPrincipal</code> 옵션을 사용해서 <strong>PutObject Deny</strong> Policy를 <em>적용하지 않을</em> 사용자를 명시</li><li><a href="/until/tech/aws/iam/" class="">IAM</a> 사용자를 새로 하나 생성하고, S3 Full Access 권한을 허용해준 뒤</li><li>해당 IAM 유저의 AWS_ACCESS_KEY_ID와 AWS_SECRET_ACCESS_KEY를 사용</li><li>IAM User Number(Numerical)와 IAM User Name을 Policy에 명시함</li></ul></li></ul><h3 id="결과" tabindex="-1"><a class="header-anchor" href="#결과" aria-hidden="true">#</a> 결과</h3><p>S3 Storage에 접근하여 객체를 쓰는 서버는 Python 기반으로 작성되었기 때문에 <em>boto3</em> 라이브러리를 사용함</p><ol><li><p><code>.env</code> 파일에 명시되어 있는 <strong>AWS_ACCESS_KEY_ID</strong>와 <strong>AWS_SECRET_ACCESS_KEY</strong>를 할당한 클라이언트 객체는 <strong><em>PutObject 요청 성공</em></strong></p></li><li><p>그렇지 않은 객체는 <strong><em>PutObject 요청 거부됨</em></strong></p></li></ol><ul><li>즉, 모든 사용자가 S3 Storage에 업로드 된 객체(이 경우 영상)를 볼 수 있지만</li><li>특정 사용자만 S3 Storage에 새로운 객체를 업로드할 수 있음 <ul><li>이 &quot;특정 사용자&quot;는 적절한 키를 가지고 있는 서버가 됨</li></ul></li></ul><details class="custom-container details"><summary>업로드 허용 테스트</summary><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> boto3

load_dotenv<span class="token punctuation">(</span><span class="token punctuation">)</span>

AWS_ACCESS_KEY_ID <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">&quot;AWS_ACCESS_KEY_ID&quot;</span><span class="token punctuation">)</span>
AWS_SECRET_ACCESS_KEY <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">&quot;AWS_SECRET_ACCESS_KEY&quot;</span><span class="token punctuation">)</span>

s3_client <span class="token operator">=</span> boto3<span class="token punctuation">.</span>client<span class="token punctuation">(</span>
    <span class="token string">&#39;s3&#39;</span><span class="token punctuation">,</span>
    aws_access_key_id<span class="token operator">=</span>AWS_ACCESS_KEY_ID<span class="token punctuation">,</span>
    aws_secret_access_key<span class="token operator">=</span>AWS_SECRET_ACCESS_KEY
<span class="token punctuation">)</span>

<span class="token comment"># ... 중략 ...</span>

<span class="token keyword">def</span> <span class="token function">videoAnalyser</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># ... 중략 ...</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        s3_client<span class="token punctuation">.</span>upload_file<span class="token punctuation">(</span>outFilename<span class="token punctuation">,</span> bucketname<span class="token punctuation">,</span> objecetName<span class="token punctuation">,</span>
            ExtraArgs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;ContentType&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;video/mp4&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Success to upload to S3 Storage&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> Exception<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to upload to S3 Storage&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>Result:</p><div class="language-txt ext-txt line-numbers-mode"><pre class="language-txt"><code>[INFO]001_10.mp4 has been uploaded
start to analyse 001_10.mp4
Video has been loaded.
video Framesize 1920.0px * 1080.0px
video FPS 29.97 FPS
video Frames 593.0 frames
INFO: Created TensorFlow Lite XNNPACK delegate for CPU.
Success to upload to S3 Storage / 593.0
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlight-line"> </div></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></details><details class="custom-container details"><summary>업로드 거부 테스트</summary><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> boto3

load_dotenv<span class="token punctuation">(</span><span class="token punctuation">)</span>

AWS_ACCESS_KEY_ID <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">&quot;AWS_ACCESS_KEY_ID&quot;</span><span class="token punctuation">)</span>
AWS_SECRET_ACCESS_KEY <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">&quot;AWS_SECRET_ACCESS_KEY&quot;</span><span class="token punctuation">)</span>

s3_client <span class="token operator">=</span> boto3<span class="token punctuation">.</span>client<span class="token punctuation">(</span>
    <span class="token string">&#39;s3&#39;</span><span class="token punctuation">,</span>
    <span class="token comment"># aws_access_key_id=AWS_ACCESS_KEY_ID,</span>
    <span class="token comment"># aws_secret_access_key=AWS_SECRET_ACCESS_KEY</span>
<span class="token punctuation">)</span>

<span class="token comment"># ... 중략 ...</span>

<span class="token keyword">def</span> <span class="token function">videoAnalyser</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># ... 중략 ...</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        s3_client<span class="token punctuation">.</span>upload_file<span class="token punctuation">(</span>outFilename<span class="token punctuation">,</span> bucketname<span class="token punctuation">,</span> objecetName<span class="token punctuation">,</span>
            ExtraArgs<span class="token operator">=</span><span class="token punctuation">{</span><span class="token string">&#39;ContentType&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;video/mp4&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Success to upload to S3 Storage&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span> Exception<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Failed to upload to S3 Storage&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>Result:</p><div class="language-txt ext-txt line-numbers-mode"><pre class="language-txt"><code>[INFO]001_10.mp4 has been uploaded
start to analyse 001_10.mp4
Video has been loaded.
video Framesize 1920.0px * 1080.0px
video FPS 29.97 FPS
video Frames 593.0 frames
INFO: Created TensorFlow Lite XNNPACK delegate for CPU.
Failed to upload to S3 Storage / 593.0
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlight-line"> </div></div><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></details><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">9/15/2023, 1:21:37 AM</span></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/until/tech/aws/s3/" class="nav-link router-link-active" aria-label="S3, Simple Storage Service"><!--[--><!--]--> S3, Simple Storage Service <!--[--><!--]--></a></span><!----></p></nav><!--[--><!--]--></main></div><!----><!--]--></div>
    <script src="/until/assets/js/runtime~app.c30f3988.js" defer></script><script src="/until/assets/js/296.148a5c49.js" defer></script><script src="/until/assets/js/app.61a0afe0.js" defer></script>
  </body>
</html>
